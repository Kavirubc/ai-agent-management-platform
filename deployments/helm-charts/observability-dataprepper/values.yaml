deployment:
  name: data-prepper
  namespace: openchoreo-observability-plane
  replicaCount: 1
  resourceLimits:
    memory: 500Mi
    cpu: 1000m
  resourceRequests:
    memory: 250Mi
    cpu: 500m

image:
  repository: opensearchproject/data-prepper
  tag: latest
  pullPolicy: IfNotPresent

configmap:
  name: data-prepper-config
  namespace: openchoreo-observability-plane

# Ports
otlp:
  port: 21893          

service:
  name: data-prepper
  namespace: openchoreo-observability-plane
  type: ClusterIP

# OpenSearch sink config
opensearch:
  hosts:
    - http://opensearch.openchoreo-observability-plane.svc.cluster.local:9200
  indexType: custom
  indexName: custom-otel-span-index
  namespace: openchoreo-observability-plane
  username: "" # Override with actual credentials via --set
  password: "" # Override with actual credentials via --set
  insecure: true
  # Path inside the container where the index template is mounted
  templatePath: /usr/share/data-prepper/otel-v1-apm-span-index-standard-template.json

# Traces Observer Service config
tracesObserver:
  enabled: true
  name: traces-observer-service
  namespace: openchoreo-observability-plane
  replicaCount: 1
  image:
    repository: traces-observer
    tag: latest
    pullPolicy: IfNotPresent
  port: 9098
  resourceLimits:
    memory: 256Mi
    cpu: 500m
  resourceRequests:
    memory: 128Mi
    cpu: 250m
  service:
    type: ClusterIP
  env:
    opensearchAddress: http://opensearch.openchoreo-observability-plane.svc.cluster.local:9200
    opensearchTraceIndex: custom-otel-span-index
    # Note: OpenSearch credentials are stored in opensearch-credentials secret
